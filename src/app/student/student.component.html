<!-- <div class="row mt-5">
 
    <!-- <div class="col-md-6">
      <label for="inputEmail4" class="form-label">Firstname</label>
      <input [(ngModel)]="student.Fname" type="text" class="form-control" placeholder="First name" aria-label="First name">
    </div>
    <div class="col-md-6">
      <label for="inputEmail4" class="form-label">Lastname</label>
      <input [(ngModel)]="student.Lname" type="text" class="form-control" placeholder="Last name" aria-label="Last name">
    </div>
    <div class="col-md-6">
      <label for="inputEmail4" class="form-label">Email</label>
      <input [(ngModel)]="student.email" type="email" class="form-control" id="inputEmail4">
    </div>
    <div class="col-md-6">
      <label for="age" class="form-label">Age</label>
      <input [(ngModel)]="student.age" type="number" class="form-control" id="age" title="age">
    </div>
    <div class="col-12">
      <label for="inputAddress" class="form-label">Address</label>
      <input [(ngModel)]="student.address" type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
    </div>
    <div class="col-md-6">
      <label for="inputCity" class="form-label">City</label>
      <input [(ngModel)]="student.city" type="text" class="form-control" id="inputCity" title="city">
    </div>
    <div class="col-md-4">
      <label for="inputState" class="form-label">Grade</label>
      <select [(ngModel)]="student.grade" id="inputState" class="form-select">
        
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
        <option>6</option>
      </select>
    </div>
    <div class="col-md-4">
      <label for="inputState2" class="form-label">Gender</label>
      <select [(ngModel)]="student.gender" id="inputState2" class="form-select">
        <option selected>gender</option>
        <option>male</option>
        <option>female</option>
      </select>
    </div>
    <div class="col-12">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="gridCheck">
        <label class="form-check-label" for="gridCheck">
          Check me out
        </label>
      </div>
    </div>
    <div class="col-12">
      <button  type="submit" class="btn btn-primary"(click)="addStudent()" >Sign in</button>
    </div>
  
</div>  -->

<!-- <app-header></app-header>
<div class="row mt-5">
  
    <div class="col-6">
        <label for="inputState" class="form-label">Firstname</label>
        <input [(ngModel)]="student.firstName" type="text" title="text" placeholder="Fname" class="form-control m-1">
    </div>
    
    <div class="col-6">
        <label for="inputState" class="form-label">Lastname</label>
        <input [(ngModel)]="student.lastName" type="text" title="text" placeholder="Lname" class="form-control m-1">
    </div>
    <div class="col-6">
        <label for="inputState" class="form-label">Email</label>
        <input [(ngModel)]="student.email" type="email" title="power" placeholder="email" class="form-control m-1">
    </div>
    <div class="col-6">
        <label for="inputState" class="form-label">Address</label>
        <input [(ngModel)]="student.address" type="text" title="image" placeholder="address" class="form-control m-1">
    </div>
    <div class="col-3">
        <label for="inputState" class="form-label">City</label>
        <input [(ngModel)]="student.city" type="text" title="image" placeholder="city" class="form-control m-1">
    </div>
    <div class="col-md-3">
        <label for="inputState" class="form-label">Grade</label>
        <select [(ngModel)]="student.grade" id="inputState" class="form-select">
          <option disabled>Choose Grade</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
        </select>
      </div>
    <div class="col-md-3">
        <label for="inputState" class="form-label">gender</label>
        <select [(ngModel)]="student.gender" id="gender" class="form-select" title="gender"  >
         
          <option>Male</option>
          <option>Female</option>
        
        </select>
      </div>
    <div class="col-3">
        <label for="inputState" class="form-label">Age</label>
        <input [(ngModel)]="student.age" type="number" title="image" placeholder="age" class="form-control m-1">
    </div>
    <div class="col-3" >
       <button  class="form-control mb-5 bg-info text-light mt-5" type="button" (click)="addStudent()">Create</button>
    </div>
   
</div> -->


<div class="d-flex">


  <div class="sidebar-container">
    <p-sidebar [(visible)]="sidebarVisible" [showCloseIcon]="true" [baseZIndex]="1000" styleClass="custom-sidebar" [modal]="false" position="left">
      <ng-template pTemplate="content">
        <div class="flex flex-column h-full">
          <!-- Logo and School Name -->
          <div class="logo-container p-3">
            <div class="flex align-items-center">
              <img [src]="schoolLogoUrl" alt="School Logo" class="school-logo mr-2">
              <span class="logo-text">{{schoolName}}</span>
            </div>
          </div>
          
          <!-- Navigation Menu -->
          <div class="menu-container overflow-y-auto">
            <div class="menu-section">
              <div class="menu-header">
                <span>القائمة</span>
                
              </div>
              
              <!-- Dashboard -->
              <div class="menu-item">
                <a routerLink="/Dashboard" routerLinkActive="active-link">
                  <i class="pi pi-home"></i>
                  <span>Dashboard</span>
                </a>
              </div>
              
              <!-- Student -->
              <div class="menu-item">
                <a (click)="toggleDropdown('student')" class="has-submenu">
                  <i class="pi pi-user"></i>
                  <span>Student</span>
                  <i class="pi pi-chevron-down submenu-icon" [ngClass]="{'rotate-180': isStudentOpen}"></i>
                </a>
                
                <div class="submenu" [ngClass]="{'submenu-open': isStudentOpen}">
                  <a routerLink="/student-list" routerLinkActive="active-link">Student List</a>
                  <a routerLink="/absence-list" routerLinkActive="active-link">Absence List</a>
                </div>
              </div>
              
              <!-- Manager List -->
              <div class="menu-item">
                <a routerLink="/admin-list" routerLinkActive="active-link">
                  <i class="pi pi-user-edit"></i>
                  <span>Manager List</span>
                </a>
              </div>
              
              <!-- Parent List -->
              <div class="menu-item">
                <a routerLink="/parent-list" routerLinkActive="active-link">
                  <i class="pi pi-users"></i>
                  <span>Parent List</span>
                </a>
              </div>
              
              <!-- Send Report -->
              <div class="menu-item">
                <a routerLink="/Send-email" routerLinkActive="active-link">
                  <i class="pi pi-send"></i>
                  <span>Send Report</span>
                </a>
              </div>
            </div>
          </div>
          
          <!-- Logout Section -->
          <div class="logout-container">
            <div class="menu-item logout">
              <a (click)="logout()">
                <i class="pi pi-sign-out"></i>
                <span>Logout</span>
              </a>
            </div>
          </div>
          <div class="mt-auto">
            <hr class="mb-3 mx-3 border-top-1 border-none surface-border" />
            <a pRipple class="m-3 flex align-items-center cursor-pointer p-3 gap-2 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple" style="text-decoration: none;color:#666">
              <img class="profile-img" src="../../assets/profile.png" alt="Profile">
                <span class="font-bold">{{adminName}}</span>
            </a>
            <app-theme-toggle class="d-block text-end my-2"></app-theme-toggle>
        </div>
        </div>
      </ng-template>
    </p-sidebar>
    
    <!-- Toggle Sidebar Button - Only shown when sidebar is hidden -->
    <button *ngIf="!sidebarVisible" 
            pButton class="p-button-rounded p-button-text sidebar-toggle" 
            icon="pi pi-bars" 
            (click)="toggleSidebar()"></button>
  </div>

  



  <!-- Main Content -->
  
    <!-- Main Content -->
    <div id="page-content-wrapper" class="flex-grow-1" style="padding: 20px; font-family: 'Segoe UI', Roboto, sans-serif;">
      <!-- Header with gradient and modern shadow -->
      <app-theme-toggle class="d-block text-end my-2"></app-theme-toggle>
      <div class="header d-flex justify-content-between align-items-center" 
           style="background: linear-gradient(to right, #00b09b, #96c93d); 
                  padding: 18px 25px; 
                  border-radius: 12px; 
                  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
                  margin-bottom: 25px;">
        <h2 id="head" style="margin: 0; 
                            font-size: 24px; 
                            color: white; 
                            font-weight: 500;
                            letter-spacing: 0.5px;
                            text-shadow: 0 1px 2px rgba(0,0,0,0.1);">
          Add Students
        </h2>
        <div style="position: relative;">
          <img src="../../assets/profile.png" 
               alt="Profile" 
               (click)="navigateToAdminUpdate()"
               [routerLink]="['/admin-update',adminId]"
               style="width: 45px; 
                      height: 45px; 
                      border-radius: 50%; 
                      border: 3px solid rgba(255,255,255,0.7);
                      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                      transition: all 0.3s ease;
                      cursor: pointer;">
          <span style="position: absolute; 
                       bottom: -2px; 
                       right: -2px; 
                       width: 12px; 
                       height: 12px; 
                       background-color: #4CD964; 
                       border-radius: 50%; 
                       border: 2px solid white;"></span>
          
        </div>
      </div>
  
      <!-- Form Container -->
      <form (ngSubmit)="addStudent()" 
            enctype="multipart/form-data" 
            style=" 
                   padding: 30px; 
                   border-radius: 12px; 
                   box-shadow: 0 5px 15px rgba(0,0,0,0.05);
                   transition: all 0.3s ease;">
        
        <!-- Form Header -->
        <div style="margin-bottom: 25px; border-bottom: 1px solid #eef0f5; padding-bottom: 15px;">
          <h3 style=" font-size: 18px; font-weight: 600; margin: 0;">Student Information</h3>
          <p style="color: #6c757d; font-size: 14px; margin: 5px 0 0 0;">Enter details for new student record</p>
        </div>
        
        <!-- First Row -->
        <div class="row mb-4">
          <div class="col-md-3">
            <label for="fullName" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-user" style="margin-right: 5px; color: #00b09b;"></i> Full Name
            </label>
            <input [(ngModel)]="student.FullName" 
                   name="FullName" 
                   type="text" 
                   title="text" 
                   placeholder="Enter Full Name" 
                   class="form-control" 
                   style="padding: 12px 15px; 
                          border-radius: 8px; 
                          border: 1px solid #dce1e9;
                          font-size: 14px;
                          box-shadow: none;
                          transition: all 0.3s ease;
                          margin-bottom: 5px;">
          </div>
          <div class="col-md-3">
            <label for="gender" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-users" style="margin-right: 5px; color: #00b09b;"></i> Gender
            </label>
            <select [(ngModel)]="student.Gender" 
                    name="Gender" 
                    (ngModelChange)="student.Gender = +$event"
                    id="gender" 
                    class="form-select" 
                    title="gender" 
                    style="padding: 12px 15px; 
                           border-radius: 8px; 
                           border: 1px solid #dce1e9;
                           font-size: 14px;
                           box-shadow: none;
                           transition: all 0.3s ease;
                           margin-bottom: 5px;
                           background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22 fill=%22%23345%22%3E%3Cpath d=%22M10.3 3.3L6 7.6 1.7 3.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l5 5c.2.2.4.3.7.3.3 0 .5-.1.7-.3l5-5c.4-.4.4-1 0-1.4s-1-.4-1.4 0z%22/%3E%3C/svg%3E');
                           background-position: right 15px center;
                           background-repeat: no-repeat;
                           appearance: none;">
              <option [value]="0">Male</option>
              <option [value]="1">Female</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="grade" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-chart-bar" style="margin-right: 5px; color: #00b09b;"></i> Grade
            </label>
            <select [(ngModel)]="student.Grade" 
                    name="Grade" 
                    id="inputState" 
                    class="form-select" 
                    style="padding: 12px 15px; 
                           border-radius: 8px; 
                           border: 1px solid #dce1e9;
                           font-size: 14px;
                           box-shadow: none;
                           transition: all 0.3s ease;
                           margin-bottom: 5px;
                           background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22 fill=%22%23345%22%3E%3Cpath d=%22M10.3 3.3L6 7.6 1.7 3.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l5 5c.2.2.4.3.7.3.3 0 .5-.1.7-.3l5-5c.4-.4.4-1 0-1.4s-1-.4-1.4 0z%22/%3E%3C/svg%3E');
                           background-position: right 15px center;
                           background-repeat: no-repeat;
                           appearance: none;">
              <option disabled>Choose Grade</option>
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
              <option>6</option>
              <option>7</option>
              <option>8</option>
            </select>
          </div>
        </div>
        
        <!-- Second Row -->
        <div class="row mb-4">
          <div class="col-md-3">
            <label for="city" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-map" style="margin-right: 5px; color: #00b09b;"></i> City
            </label>
            <input [(ngModel)]="student.City" 
                   name="City" 
                   type="text" 
                   title="city" 
                   placeholder="Enter City" 
                   class="form-control" 
                   style="padding: 12px 15px; 
                          border-radius: 8px; 
                          border: 1px solid #dce1e9;
                          font-size: 14px;
                          box-shadow: none;
                          transition: all 0.3s ease;
                          margin-bottom: 5px;">
          </div>
          <div class="col-md-3">
            <label for="street" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-map-marker" style="margin-right: 5px; color: #00b09b;"></i> Street
            </label>
            <input [(ngModel)]="student.Street" 
                   name="Street" 
                   type="text" 
                   title="Street" 
                   placeholder="Enter Street" 
                   class="form-control" 
                   style="padding: 12px 15px; 
                          border-radius: 8px; 
                          border: 1px solid #dce1e9;
                          font-size: 14px;
                          box-shadow: none;
                          transition: all 0.3s ease;
                          margin-bottom: 5px;">
          </div>
          <div class="col-md-3">
            <label for="birthdate" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-calendar" style="margin-right: 5px; color: #00b09b;"></i> Birth Date
            </label>
            <input [(ngModel)]="student.BirthDate" 
                   name="BirthDate" 
                   type="text" 
                   title="BirthDate" 
                   placeholder="mm/dd/yy" 
                   class="form-control" 
                   style="padding: 12px 15px; 
                          border-radius: 8px; 
                          border: 1px solid #dce1e9;
                          font-size: 14px;
                          box-shadow: none;
                          transition: all 0.3s ease;
                          margin-bottom: 5px;">
          </div>
        </div>
        
        <!-- Third Row -->
        <div class="row mb-4">
          <div class="col-md-3">
            <label for="rfid" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-id-card" style="margin-right: 5px; color: #00b09b;"></i> RFID Tag ID
            </label>
            <input [(ngModel)]="student.RfidTag_Id" 
                   name="RfidTag_Id" 
                   type="text" 
                   title="rfid_tag" 
                   placeholder="Enter RFID Tag ID" 
                   class="form-control" 
                   style="padding: 12px 15px; 
                          border-radius: 8px; 
                          border: 1px solid #dce1e9;
                          font-size: 14px;
                          box-shadow: none;
                          transition: all 0.3s ease;
                          margin-bottom: 5px;">
          </div>
          <div class="col-md-4">
            <label for="studentImage" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-image" style="margin-right: 5px; color: #00b09b;"></i> Student Image
            </label>
            <div style="position: relative;">
              <input [(ngModel)]="student.StudentImage" 
                     name="StudentImage" 
                     type="file" 
                     title="img" 
                     (change)="onFileChange($event)" 
                     class="form-control" 
                     style="padding: 12px 15px; 
                            border-radius: 8px; 
                            border: 1px solid #dce1e9;
                            font-size: 14px;
                            box-shadow: none;
                            transition: all 0.3s ease;
                            padding-right: 40px;
                            margin-bottom: 5px;">
              <i class="pi pi-upload" 
                 style="position: absolute; 
                        right: 15px; 
                        top: 50%; 
                        transform: translateY(-50%); 
                        color: #00b09b;"></i>
            </div>
          </div>
        </div>
        
        <!-- Button Group -->
        <div class="d-flex mt-4" style="border-top: 1px solid #eef0f5; padding-top: 20px;justify-content: space-between;flex-direction: row-reverse;">
          <button class="btn text-light" 
                  type="submit" 
                  style="background: linear-gradient(to right, #00b09b, #96c93d); 
                         border: none; 
                         padding: 12px 30px; 
                         border-radius: 8px;
                         font-weight: 500;
                         display: flex;
                         align-items: center;
                         box-shadow: 0 4px 10px rgba(0, 176, 155, 0.3);
                         transition: all 0.3s ease;">
            <i class="pi pi-save" style="margin-right: 8px;"></i> Save
          </button>
          <button class="btn" 
                  type="button" 
                  (click)="goBack()"
                  style="background-color: transparent; 
                         border: 1px solid #dce1e9; 
                         color: #6c757d;
                         padding: 12px 30px; 
                         border-radius: 8px;
                         font-weight: 500;
                         margin-left: 10px;
                         transition: all 0.3s ease;">
            Cancel
          </button>
        </div>
      </form>
      
      <!-- CSV Upload Section -->
      <div class="mt-4" 
           style="
                  padding: 20px; 
                  border-radius: 12px; 
                  box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
        <div style="margin-bottom: 15px; border-bottom: 1px solid #eef0f5; padding-bottom: 15px;">
          <h3 style=" font-size: 18px; font-weight: 600; margin: 0;">Batch Upload</h3>
          <p style="color: #6c757d; font-size: 14px; margin: 5px 0 0 0;">Upload multiple student records via CSV file</p>
        </div>
        
        <div class="row align-items-end">
          <div class="col-md-4">
            <label for="csvFile" class="form-label" 
                   style="font-weight: 500; 
                          color: #495057; 
                          font-size: 14px;
                          margin-bottom: 8px;
                          display: block;">
              <i class="pi pi-file-excel" style="margin-right: 5px; color: #00b09b;"></i> CSV File
            </label>
            <div style="position: relative;">
              <input type="file" 
                     (change)="onFileSelected($event)" 
                     accept=".csv"
                     class="form-control" 
                     style="padding: 12px 15px; 
                            border-radius: 8px; 
                            border: 1px solid #dce1e9;
                            font-size: 14px;
                            box-shadow: none;
                            transition: all 0.3s ease;
                            padding-right: 40px;">
              <i class="pi pi-upload" 
                 style="position: absolute; 
                        right: 15px; 
                        top: 50%; 
                        transform: translateY(-50%); 
                        color: #00b09b;"></i>
            </div>
          </div>
          <div class="col-md-2">
            <button id="csv" 
                    (click)="uploadCSV()" 
                    [disabled]="!selectedFile"
                    class="btn text-light w-100" 
                    style="background: linear-gradient(to right, #00b09b, #96c93d); 
                           border: none; 
                           padding: 12px 15px; 
                           border-radius: 8px;
                           font-weight: 500;
                           display: flex;
                           align-items: center;
                           justify-content: center;
                           box-shadow: 0 4px 10px rgba(0, 176, 155, 0.3);
                           transition: all 0.3s ease;">
              <i class="pi pi-cloud-upload" style="margin-right: 8px;"></i> Upload
            </button>
          </div>
        </div>
      </div>
      
      <style>
        /* Hover effects */
        button:hover:not([disabled]) {
          transform: translateY(-2px);
        }
        
        button[disabled] {
          opacity: 0.7;
          cursor: not-allowed;
        }
        
        /* Focus styles for inputs */
        input.form-control:focus, select.form-select:focus {
          border-color: #00b09b;
          box-shadow: 0 0 0 3px rgba(0, 176, 155, 0.25);
          outline: none;
        }
        
        /* Placeholder styling */
        input::placeholder {
          color: #adb5bd;
          opacity: 0.7;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
          .col-md-3, .col-md-4 {
            width: 50%;
            margin-bottom: 15px;
          }
        }
        
        @media (max-width: 576px) {
          .col-md-3, .col-md-4 {
            width: 100%;
            margin-bottom: 15px;
          }
          
          .header {
            flex-direction: column;
            align-items: flex-start !important;
          }
          
          .header > div {
            margin-top: 10px;
          }
        }
      </style>
    </div>
  </div>


